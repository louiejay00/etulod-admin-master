(this["webpackJsonpetulod-admin-frontend"]=this["webpackJsonpetulod-admin-frontend"]||[]).push([[0],{121:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(14),r=n.n(c),l=(n(121),n(9)),s=n(221),o=n(107),j=n(222),d=n(223),u=n(10),b=n(7),O=n(4),h=n(198),x=n(25),f=n(228),m=n(204),g=n(205),p=n(69),v=n(208),y=n(206),C=n(102),D=n.n(C),k=n(103),E=n.n(k),A=n(104),S=n.n(A),w=n(209),B=n(210),N=n(101),T=n.n(N),P=n(211),F=n(80),I=n.n(F),M=n(200),R=n(201),L=n(202),z=n(203),q=n(226),U=n(17),W=(n.p,n(1)),_=320,H=Object(h.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(_,"px)"),marginLeft:_,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:_,flexShrink:0},drawerPaper:{width:_},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-320},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},listItem:{transition:e.transitions.create(["color"],{duration:"500ms",easing:e.transitions.easing.easeInOut}),"&:hover":{color:e.palette.secondary.main,"& .MuiListItemIcon-root":{color:e.palette.secondary.main,transition:e.transitions.create(["color"],{duration:"250ms",delay:"150ms",easing:e.transitions.easing.easeInOut})}}}}}));function V(e){var t=e.children,n=H(),i=Object(x.a)(),c=Object(a.useState)(!1),r=Object(b.a)(c,2),l=r[0],s=r[1],o=Object(U.f)(),j=Object(a.useMemo)((function(){return[{title:"Dashboard",url:"/",icon:Object(W.jsx)(M.a,{}),divided:!0},{title:"Admin Management",url:"/admin",icon:Object(W.jsx)(I.a,{})},{title:"User Management",url:"/users",icon:Object(W.jsx)(I.a,{})},{title:"TD Management",url:"/tricycledrivers",icon:Object(W.jsx)(R.a,{})},{title:"TD Queueing System",url:"/tdqueueingsystem",icon:Object(W.jsx)(T.a,{})},{title:"Fare Rate",url:"/farerate",icon:Object(W.jsx)(L.a,{})},{title:"Transportation Logs",url:"/transportationlogs",icon:Object(W.jsx)(L.a,{})},{title:"Configurations",url:"/configurations",icon:Object(W.jsx)(z.a,{})},{title:"Logout",url:"/logout"}]}),[]),d=Object(U.g)(),h=Object(a.useMemo)((function(){var e;return(null===(e=j.find((function(e){return e.url===d.pathname})))||void 0===e?void 0:e.title)||"E-Tulod Admin"}),[j,d.pathname]);return Object(a.useEffect)((function(){console.log(d)}),[d]),Object(W.jsxs)("div",{className:n.root,children:[Object(W.jsx)(m.a,{position:"fixed",className:Object(O.a)(n.appBar,Object(u.a)({},n.appBarShift,l)),children:Object(W.jsxs)(g.a,{variant:"regular",children:[Object(W.jsx)(y.a,{color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},edge:"start",className:Object(O.a)(n.menuButton,l&&n.hide),children:Object(W.jsx)(D.a,{})}),Object(W.jsx)(p.a,{variant:"h6",noWrap:!0,children:h})]})}),Object(W.jsxs)(f.a,{className:n.drawer,variant:"persistent",anchor:"left",open:l,classes:{paper:n.drawerPaper},children:[Object(W.jsx)("div",{className:n.drawerHeader,children:Object(W.jsx)(y.a,{onClick:function(){s(!1)},children:"ltr"===i.direction?Object(W.jsx)(E.a,{}):Object(W.jsx)(S.a,{})})}),Object(W.jsx)(q.a,{p:2,children:Object(W.jsx)("div",{style:{height:128,width:"100%",background:i.palette.secondary.main,textAlign:"center",borderRadius:8},children:Object(W.jsxs)(p.a,{style:{position:"relative",top:"50%",transform:"translateY(-50%)",fontWeight:700},variant:"h6",children:[Object(W.jsx)("span",{style:{display:"block"}}),Object(W.jsx)("span",{style:{justifyContent:"center",alignItems:"center",padding:"2px 16px",border:"2px solid currentColor",borderRadius:4}})]})})}),Object(W.jsxs)("div",{children:[Object(W.jsx)(v.a,{}),j.map((function(e,t){return Object(W.jsxs)(w.a,{dense:!1,className:n.listItem,button:!0,component:"a",href:e.url,onClick:function(t){t.preventDefault(),o.push(e.url)},children:[Object(W.jsx)(B.a,{children:e.icon}),Object(W.jsx)(P.a,{children:Object(W.jsx)(p.a,{variant:"body1",children:e.title})})]},e.title)})),Object(W.jsx)(v.a,{})]})]}),Object(W.jsxs)("main",{className:Object(O.a)(n.content,Object(u.a)({},n.contentShift,l)),children:[Object(W.jsx)("div",{className:n.drawerHeader}),t]})]})}var J=n(78);function Q(){return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(p.a,{paragraph:!0,children:"E-tulod ride hailing application that is convinient for people who don't have go to the toda station or wait for other passengers inorder for them to"}),Object(W.jsx)(p.a,{paragraph:!0,children:"Consequat mauris nunc congue nisi vitae suscipit. Fringilla est ullamcorper eget nulla facilisi etiam dignissim diam. Pulvinar elementum integer enim neque volutpat ac tincidunt. Ornare suspendisse sed nisi lacus sed viverra tellus. Purus sit amet volutpat consequat mauris. Elementum eu facilisis sed odio morbi. Euismod lacinia at quis risus sed vulputate odio. Morbi tincidunt ornare massa eget egestas purus viverra accumsan in. In hendrerit gravida rutrum quisque non tellus orci ac. Pellentesque nec nam aliquam sem et tortor. Habitant morbi tristique senectus et. Adipiscing elit duis tristique sollicitudin nibh sit. Ornare aenean euismod elementum nisi quis eleifend. Commodo viverra maecenas accumsan lacus vel facilisis. Nulla posuere sollicitudin aliquam ultrices sagittis orci a."})]})}var G=n(212),Y=n(225),K=n(213),X=n(214),Z=n(156),$=n(215),ee=n(216),te=n(217),ne=n(218),ae=n(219),ie=n(220),ce=n(48),re=n.n(ce),le=n(26),se=n.n(le),oe=n(13),je=n.n(oe),de=n(224),ue=n(227),be=n(157),Oe=n(207),he=n(49),xe=n.n(he),fe=[{label:"Admin Name",name:"AdminName"},{label:"Admin Email",name:"AdminEmail"},{label:"Admin Password",name:"AdminPassword"},{label:"Admin Date of Birth",name:"AdminDateOfBirth"}];function me(){var e=Object(a.useState)({AdminName:"",AdminEmail:"",AdminPassword:"",AdminDateOfBirth:""}),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(),r=Object(b.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)(),d=Object(b.a)(j,2),O=d[0],h=d[1],x=Object(a.useState)(),f=Object(b.a)(x,2),m=f[0],g=f[1];return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(Z.a,{children:Object(W.jsx)(de.a,{p:4,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Add Admin"}),Object(W.jsx)(p.a,{color:"textSecondary",variant:"body2",children:"Add new Admin"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{p:2,children:fe.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,fullWidth:!0,onChange:function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},value:n[e.name]})]},e.label)}))}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(K.a,{disableElevation:!0,color:"primary",variant:"contained",onClick:function(){je.a.post("/admin",Object(l.a)({},n)).then((function(e){console.log("res",e),console.log("res",e.data)})).catch((function(e){console.error("error in log Creation",e)})).finally((function(){i({AdminName:"",AdminEmail:"",AdminPassword:"",AdminDateOfBirth:""}),g((function(e){return!e}))}))},children:"Confirm"})})]})}),Object(W.jsx)(ge,{revalidateData:m,onRowClick:function(e){},onUpdateButtonClicked:function(e){console.log("updatebuttonclicked"),h(e),o(!0)},onDeleteButtonClicked:function(e){console.log("ADMIN TO BE DELETED",e),je.a.delete("/admin/"+e._id).then((function(e){console.lod(e,"Deleted")})).catch((function(t){console.log("Error deleting",e),console.log(t.message)})).finally((function(){g((function(e){return!e}))}))}})]})})})}),O&&Object(W.jsx)(pe,{open:s,setOpen:o,originalFormValues:O,triggerRevalidate:function(){g((function(e){return!e}))}})]})}var ge=function(e){e.onRowClick;var t=e.onUpdateButtonClicked,n=e.onDeleteButtonClicked,i=e.revalidateData,c=Object(a.useState)(),r=Object(b.a)(c,2),s=r[0],o=r[1];Object(a.useEffect)((function(){j()}),[i]);var j=function(){je.a.get("/admin").then((function(e){o(e.data)})).catch((function(e){console.error(e)}))};return s?Object(W.jsx)(de.a,{mt:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Admins Name"}),Object(W.jsx)(ae.a,{align:"left",children:" Admins Email"}),Object(W.jsx)(ae.a,{align:"left",children:"Admin Password"}),Object(W.jsx)(ae.a,{align:"left",children:"Date of Birth"})]})}),Object(W.jsx)(ie.a,{children:s.map((function(e){return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.AdminName}),Object(W.jsx)(ae.a,{align:"left",children:e.AdminEmail}),Object(W.jsx)(ae.a,{align:"left",children:e.AdminPassword}),Object(W.jsx)(ae.a,{align:"left",children:e.AdminDateOfBirth}),Object(W.jsxs)(ae.a,{children:[Object(W.jsx)(y.a,{onClick:function(){t(e)},children:Object(W.jsx)(re.a,{})}),Object(W.jsx)(y.a,{onClick:function(){n(e)},children:Object(W.jsx)(se.a,{})})]})]})}))})]})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},pe=function(e){var t=e.originalFormValues,n=e.open,i=e.setOpen,c=e.triggerRevalidate,r=Object(a.useState)(t),s=Object(b.a)(r,2),o=s[0],j=s[1];Object(a.useEffect)((function(){j(t)}),[t]);return Object(W.jsx)(ue.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},open:n,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(W.jsx)(be.a,{in:n,children:Object(W.jsx)(Z.a,{children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Modify Drivers"}),Object(W.jsx)(p.a,{variant:"body1",children:"Change Drivers"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{children:fe.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,multiline:!0,fullWidth:!0,onChange:function(e){j((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},defaultValue:o[e.name]||""})]},e.name)}))}),Object(W.jsx)(de.a,{my:2,children:Object(W.jsx)(v.a,{})}),Object(W.jsxs)(de.a,{display:"flex",justifyContent:"space-between",children:[Object(W.jsx)(K.a,{disableElevation:!0,color:"default",variant:"contained",onClick:function(){i(!1)},children:"Cancel"}),Object(W.jsx)(K.a,{style:{background:xe.a.A700},disableElevation:!0,variant:"contained",onClick:function(){je.a.patch("/admin/"+o._id,o).then((function(e){console.log(e),console.log("Admin Updated")})).catch((function(e){console.error("Error in Admin Update",e)})).finally((function(){c()}))},children:"Save"})]})]})})})})};function ve(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(W.jsx)(de.a,{children:Object(W.jsx)(Z.a,{children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(p.a,{variant:"h6",children:"User Information"})})}),Object(W.jsx)(ye,{revalidateData:n,onDeleteButtonClicked:function(e){console.log("USER TO BE DELETED",e),je.a.delete("/user/"+e._id).then((function(e){console.log(e,"Deleted")})).catch((function(t){console.log("Error deleting",e),console.log(t.message)})).finally((function(){i((function(e){return!e}))}))}})]})})})})})}var ye=function(e){var t=e.onDeleteButtonClicked,n=e.revalidateData,i=Object(a.useState)(),c=Object(b.a)(i,2),r=c[0],s=c[1];Object(a.useEffect)((function(){o()}),[n]);var o=function(){je.a.get("/user").then((function(e){s(e.data)})).catch((function(e){console.error(e)}))};return r?Object(W.jsx)(de.a,{mt:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Name"}),Object(W.jsx)(ae.a,{align:"left",children:"Email"}),Object(W.jsx)(ae.a,{align:"left",children:"Password"}),Object(W.jsx)(ae.a,{align:"left",children:"Date of Birth"})]})}),Object(W.jsx)(ie.a,{children:r.map((function(e){return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.name}),Object(W.jsx)(ae.a,{align:"left",children:e.email}),Object(W.jsx)(ae.a,{align:"left",children:e.password}),Object(W.jsx)(ae.a,{align:"left",children:e.dateOfBirth}),Object(W.jsx)(ae.a,{children:Object(W.jsx)(y.a,{onClick:function(){t(e)},children:Object(W.jsx)(se.a,{})})})]})}))})]})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},Ce=n(105),De=[{label:"Drivers' Name",name:"drivername"},{label:"Drivers' Address",name:"driveraddress"},{label:"Plate Number",name:"platenumber"},{label:"Drivers' Phone Number",name:"drivercpnum"}];function ke(){var e=Object(a.useState)({drivername:"",driveraddress:"",platenumber:"",drivercpnum:"",ordernumber:""}),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(Ce.a)(n),r=c.data,s=c.error,o=c.isValidating;r&&r.map((function(e){JSON.stringify(e,null,2)})),o&&X.a,s&&message.error(s);var j=Object(a.useState)(),d=Object(b.a)(j,2),O=d[0],h=d[1],x=Object(a.useState)(),f=Object(b.a)(x,2),m=f[0],g=f[1],y=Object(a.useState)(),C=Object(b.a)(y,2),D=C[0],k=C[1];return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(Z.a,{children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Add Tricycle Driver"}),Object(W.jsx)(p.a,{color:"textSecondary",variant:"body2",children:"Add new Tricycle Driver"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{p:2,children:De.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,fullWidth:!0,onChange:function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},value:n[e.name]})]},e.label)}))}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(K.a,{disableElevation:!0,color:"primary",variant:"contained",onClick:function(){je.a.post("/driver",Object(l.a)({},n)).then((function(e){console.log("res",e),console.log("responseData",e.data)})).catch((function(e){console.error("error in user Creation",e)})).finally((function(){i({drivername:"",driveraddress:"",platenumber:"",drivercpnum:"",ordernumber:""}),k((function(e){return!e}))}))},children:"Confirm"})})]})}),Object(W.jsx)(Ee,{revalidateData:D,onRowClick:function(e){g(e)},onUpdateButtonClicked:function(e){console.log("updatebuttonclicked"),g(e),h(!0)},onDeleteButtonClicked:function(e){console.log("DRIVER TO BE DELETED",e),je.a.delete("/driver/"+e._id).then((function(e){console.log(e,"Deleted")})).catch((function(t){console.log("Error deleting",e),console.log(t.message)})).finally((function(){k((function(e){return!e}))}))}})]})})})}),m&&Object(W.jsx)(Ae,{open:O,setOpen:h,originalFormValues:m,triggerRevalidate:function(){k((function(e){return!e}))}})]})}var Ee=function(e){e.onRowClick;var t=e.onUpdateButtonClicked,n=e.onDeleteButtonClicked,i=e.revalidateData,c=Object(a.useState)(),r=Object(b.a)(c,2),s=r[0],o=r[1];Object(a.useEffect)((function(){j()}),[i]);var j=function(){je.a.get("/driver").then((function(e){o(e.data)})).catch((function(e){console.error(e)}))};return s?Object(W.jsx)(de.a,{mt:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Order"}),Object(W.jsx)(ae.a,{align:"left",children:" Drivers' Name"}),Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Address"}),Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Plate Number"}),Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Phone Number"}),Object(W.jsx)(ae.a,{align:"left",children:"Actions"})]})}),Object(W.jsx)(ie.a,{children:s.map((function(e){return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:e.ordernumber}),Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.drivername}),Object(W.jsx)(ae.a,{align:"left",children:e.driveraddress}),Object(W.jsx)(ae.a,{align:"left",children:e.platenumber}),Object(W.jsx)(ae.a,{align:"left",children:e.drivercpnum}),Object(W.jsxs)(ae.a,{children:[Object(W.jsx)(y.a,{onClick:function(){t(e)},children:Object(W.jsx)(re.a,{})}),Object(W.jsx)(y.a,{onClick:function(){n(e)},children:Object(W.jsx)(se.a,{})})]})]})}))})]})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},Ae=function(e){var t=e.originalFormValues,n=e.open,i=e.setOpen,c=e.triggerRevalidate,r=Object(a.useState)(t),s=Object(b.a)(r,2),o=s[0],j=s[1];Object(a.useEffect)((function(){j(t)}),[t]);return Object(W.jsx)(ue.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},open:n,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(W.jsx)(be.a,{in:n,children:Object(W.jsx)(Z.a,{children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Modify Drivers"}),Object(W.jsx)(p.a,{variant:"body1",children:"Change Drivers"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{children:De.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,multiline:!0,fullWidth:!0,onChange:function(e){j((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},defaultValue:o[e.name]||""})]},e.name)}))}),Object(W.jsx)(de.a,{my:2,children:Object(W.jsx)(v.a,{})}),Object(W.jsxs)(de.a,{display:"flex",justifyContent:"space-between",children:[Object(W.jsx)(K.a,{disableElevation:!0,color:"default",variant:"contained",onClick:function(){i(!1)},children:"Cancel"}),Object(W.jsx)(K.a,{style:{background:xe.a.A700},disableElevation:!0,variant:"contained",onClick:function(){je.a.patch("/driver/"+o._id,o).then((function(e){console.log(e),console.log("Driver Updated")})).catch((function(e){console.error("Error in driver Update",e)})).finally((function(){c()}))},children:"Save"})]})]})})})})};function Se(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(W.jsx)(q.a,{children:Object(W.jsx)(Z.a,{children:Object(W.jsx)(q.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsx)(q.a,{p:2,children:Object(W.jsx)(p.a,{variant:"h6",children:"Tricycle Driver Queue"})})}),Object(W.jsx)(we,{revalidateData:n,onDeleteButtonClicked:function(e){console.log("ADMIN TO BE DELETED",e),je.a.delete("/queue/"+e._id).then((function(e){console.log(e,"Deleted")})).catch((function(t){console.log("Error deleting",e),console.log(t.message)})).finally((function(){i((function(e){return!e}))}))}})]})})})})})}var we=function(e){var t=e.revalidateData,n=e.onDeleteButtonClicked,i=Object(a.useState)(),c=Object(b.a)(i,2),r=c[0],s=c[1];Object(a.useEffect)((function(){o()}),[t]);var o=function(){je.a.get("/queue").then((function(e){s(e.data)})).catch((function(e){console.error(e)}))};return r?Object(W.jsx)(q.a,{children:Object(W.jsx)(Z.a,{children:Object(W.jsx)(q.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsx)(G.a,{item:!0,md:8,xs:12,children:Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsxs)(q.a,{p:2,children:[Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(q.a,{p:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Order Number"}),Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Name"}),Object(W.jsx)(ae.a,{align:"left",children:" Drivers' Address"}),Object(W.jsx)(ae.a,{align:"left",children:"Plate Number"}),Object(W.jsx)(ae.a,{align:"left",children:"Drivers' Phone Number"})]})}),Object(W.jsx)(ie.a,{children:r.map((function(e){return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:e.ordernumber}),Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.drivername}),Object(W.jsx)(ae.a,{align:"left",children:e.driveraddress}),Object(W.jsx)(ae.a,{align:"left",children:e.platenumber}),Object(W.jsx)(ae.a,{align:"left",children:e.drivercpnum}),Object(W.jsx)(ae.a,{align:"left",children:Object(W.jsx)(y.a,{onClick:function(){n(e)},children:Object(W.jsx)(se.a,{})})})]})}))})]})})}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(q.a,{display:"flex",justifyContent:"flex-end"})]})})})})})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},Be=[{label:"Pick-up To Destination",name:"destination"},{label:"Fare Rate",name:"fare"}];function Ne(){var e=Object(a.useState)({detination:"",fare:""}),t=Object(b.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),r=Object(b.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)(),d=Object(b.a)(j,2),O=d[0],h=d[1],x=Object(a.useState)(!1),f=Object(b.a)(x,2),m=f[0],g=f[1];return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(Z.a,{children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Add Pick-up to Destination and Fare Rate"}),Object(W.jsx)(p.a,{color:"textSecondary",variant:"body2",children:"Add new Pick-up to Destination and Fare Rate"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{p:2,children:Be.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,fullWidth:!0,onChange:function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},value:n[e.name]})]},e.label)}))}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{display:"flex",justifyContent:"flex-end",children:Object(W.jsx)(K.a,{disableElevation:!0,color:"primary",variant:"contained",onClick:function(){je.a.post("/fare",Object(l.a)({},n)).then((function(e){console.log("res",e),console.log("responseData",e.data)})).catch((function(e){console.error("error in user Creation",e)})).finally((function(){i({destination:"",fare:""}),g((function(e){return!e}))}))},children:"Confirm"})})]})}),Object(W.jsx)(Te,{revalidateData:m,onRowClick:function(e){},onUpdateButtonClicked:function(e){console.log("updatebuttonclicked"),h(e),o(!0)},onDeleteButtonClicked:function(e){console.log(" FARE RATE TO BE DELETED",e),je.a.delete("/fare/"+e._id).then((function(e){console.log(e,"Deleted")})).catch((function(t){console.log("Error deleting ",e),console.error(t.message)})).finally((function(){g((function(e){return!e}))}))}})]})})})}),O&&Object(W.jsx)(Pe,{open:s,setOpen:o,originalFormValues:O,triggerRevalidate:function(){g((function(e){return!e}))}})]})}var Te=function(e){var t=e.onRowClick,n=e.onUpdateButtonClicked,i=e.onDeleteButtonClicked,c=e.revalidateData,r=Object(a.useState)(),s=Object(b.a)(r,2),o=s[0],j=s[1];Object(a.useEffect)((function(){d()}),[c]);var d=function(){je.a.get("/fare").then((function(e){j(e.data)})).catch((function(e){console.error(e)}))};return o?Object(W.jsx)(de.a,{mt:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Pick-up toDestination"}),Object(W.jsx)(ae.a,{align:"left",children:"Fare Rate"}),Object(W.jsx)(ae.a,{children:"Actions"})]})}),Object(W.jsx)(ie.a,{children:o.map((function(e,a){return Object(W.jsxs)(ne.a,{onClick:function(){t(e)},style:{cursor:"pointer"},children:[Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.destination}),Object(W.jsx)(ae.a,{align:"left",children:e.fare}),Object(W.jsxs)(ae.a,{children:[Object(W.jsx)(y.a,{onClick:function(){n(e)},children:Object(W.jsx)(re.a,{})}),Object(W.jsx)(y.a,{onClick:function(){i(e)},children:Object(W.jsx)(se.a,{})})]})]},"".concat(e.name,"-").concat(a))}))})]})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},Pe=function(e){var t=e.originalFormValues,n=e.open,i=e.setOpen,c=e.triggerRevalidate,r=Object(a.useState)(t),s=Object(b.a)(r,2),o=s[0],j=s[1];Object(a.useEffect)((function(){j(t)}),[t]);return Object(W.jsx)(ue.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},open:n,onClose:function(){i(!1)},closeAfterTransition:!0,BackdropComponent:Oe.a,BackdropProps:{timeout:500},children:Object(W.jsx)(be.a,{in:n,children:Object(W.jsx)(Z.a,{children:Object(W.jsxs)(de.a,{p:2,children:[Object(W.jsx)(p.a,{variant:"h6",children:"Modify Fare Rate"}),Object(W.jsx)(p.a,{variant:"body1",children:"Change Fare Rates"}),Object(W.jsx)(v.a,{style:{margin:"16px 0"}}),Object(W.jsx)(de.a,{children:Be.map((function(e){return Object(W.jsxs)(de.a,{children:[Object(W.jsx)(p.a,{variant:"body2",children:e.label}),Object(W.jsx)(Y.a,{variant:"outlined",size:"small",name:e.name,multiline:!0,fullWidth:!0,onChange:function(e){j((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))},defaultValue:o[e.name]||""})]},e.name)}))}),Object(W.jsx)(de.a,{my:2,children:Object(W.jsx)(v.a,{})}),Object(W.jsxs)(de.a,{display:"flex",justifyContent:"space-between",children:[Object(W.jsx)(K.a,{disableElevation:!0,color:"default",variant:"contained",onClick:function(){i(!1)},children:"Cancel"}),Object(W.jsx)(K.a,{style:{background:xe.a.A700},disableElevation:!0,variant:"contained",onClick:function(){je.a.patch("/fare/"+o._id,o).then((function(e){console.log(e),console.log("Fare Rate Updated")})).catch((function(e){console.error("Error in fare rate Update",e)})).finally((function(){c()}))},children:"Save"})]})]})})})})};function Fe(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],i=t[1];return Object(W.jsx)(de.a,{children:Object(W.jsx)(Z.a,{children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(G.a,{container:!0,spacing:2,children:Object(W.jsxs)(G.a,{item:!0,md:8,xs:12,children:[Object(W.jsx)(Z.a,{variant:"outlined",children:Object(W.jsx)(de.a,{p:2,children:Object(W.jsx)(p.a,{variant:"h6",children:"Transportation Logs"})})}),Object(W.jsx)(Ie,{revalidateData:n,onDeleteButtonClicked:function(e){console.log("LOGS TO BE DELETED",e),je.a.delete("/process/"+e._id).then((function(e){console.log(e,"Deleted")})).catch((function(t){console.log("Error deleting",e),console.log(t.message)})).finally((function(){i((function(e){return!e}))}))}})]})})})})})}var Ie=function(e){var t=e.onDeleteButtonClicked,n=e.revalidateData,i=Object(a.useState)(),c=Object(b.a)(i,2),r=c[0],s=c[1];Object(a.useEffect)((function(){o()}),[n]);var o=function(){je.a.get("/process").then((function(e){s(e.data)})).catch((function(e){console.error(e)}))};return r?Object(W.jsx)(de.a,{mt:2,children:Object(W.jsx)($.a,{component:function(e){return Object(W.jsx)(Z.a,Object(l.a)({variant:"outlined"},e))},children:Object(W.jsxs)(ee.a,{children:[Object(W.jsx)(te.a,{children:Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{align:"left",children:"Passenger Name"}),Object(W.jsx)(ae.a,{align:"left",children:"Passenger Email"}),Object(W.jsx)(ae.a,{align:"left",children:"Driver Name"}),Object(W.jsx)(ae.a,{align:"left",children:"Destination"}),Object(W.jsx)(ae.a,{align:"left",children:"Location"}),Object(W.jsx)(ae.a,{align:"left",children:"Phone Number"}),Object(W.jsx)(ae.a,{align:"left",children:"Number of Passengers"}),Object(W.jsx)(ae.a,{align:"left",children:"Status"})]})}),Object(W.jsx)(ie.a,{children:r.map((function(e){return Object(W.jsxs)(ne.a,{children:[Object(W.jsx)(ae.a,{component:"th",scope:"row",children:e.passengerName}),Object(W.jsx)(ae.a,{align:"left",children:e.passengerEmail}),Object(W.jsx)(ae.a,{align:"left",children:e.driverName}),Object(W.jsx)(ae.a,{align:"left",children:e.destination}),Object(W.jsx)(ae.a,{align:"left",children:e.location}),Object(W.jsx)(ae.a,{align:"left",children:e.cpnum}),Object(W.jsx)(ae.a,{align:"left",children:e.NoOfPassengers}),Object(W.jsx)(ae.a,{align:"left",children:e.status}),Object(W.jsx)(ae.a,{children:Object(W.jsx)(y.a,{onClick:function(){t(e)},children:Object(W.jsx)(se.a,{})})})]})}))})]})})}):Object(W.jsx)(Z.a,{style:{marginTop:16,display:"flex",justifyContent:"center",alignItems:"center",minHeight:400},variant:"outlined",children:Object(W.jsx)(X.a,{color:"primary",size:72,thickness:8})})},Me=n.p+"static/media/pageNotFound.8f12f92c.svg";function Re(){return Object(W.jsxs)("div",{style:{height:"80vh",textAlign:"center"},children:[Object(W.jsx)("img",{style:{width:720},src:Me,alt:"Page not Found"}),Object(W.jsx)(q.a,{children:Object(W.jsx)(p.a,{style:{marginTop:16},noWrap:!0,children:"Oops... Page not Found"})})]})}var Le=n(106),ze=n.n(Le),qe=Object(a.createContext)({}),Ue=function(e){var t=e.children,n=Object(a.useState)(localStorage.getItem("user_token")),i=Object(b.a)(n,2),c=i[0],r=i[1];return Object(W.jsx)(qe.Provider,{value:{auth:c,setAuth:r,Login:function(e){je.a.post("/admin/signin",Object(l.a)({},e)).then((function(e){r(e.data.token),localStorage.setItem("user_token",e.data.token),console.log("response",e)})).catch((function(e){localStorage.setItem("user_token",""),r(!1),console.error("error in Admin Login",e)}))},Logout:function(){localStorage.setItem("user_token",""),r(!1)}},children:t})},We=qe;function _e(){var e=Object(a.useContext)(We).Logout;return Object(W.jsx)("div",{children:Object(W.jsx)(p.a,{children:Object(W.jsx)(y.a,{children:Object(W.jsx)(ze.a,{onClick:e})})})})}var He=Object(h.a)((function(e){return{loginPage:{height:"100vh","& .MuiDivider-root":{marginTop:20,marginBottom:20}},loginForm:{width:480,position:"relative",top:"50%",transform:"translateY(-50%)",padding:16,margin:"auto",borderRadius:20,"& .login-title":{fontWeight:600,marginLeft:180,color:"#e36510"},"& .login-type":{padding:16,margin:"auto"},"& .butt":{color:"#000",marginLeft:100,marginRight:100}},formContainer:{}}}));function Ve(){var e=He(),t=Object(a.useState)({AdminEmail:"",AdminPassword:""}),n=Object(b.a)(t,2),i=n[0],c=n[1],r=Object(a.useContext)(We).Login;return Object(W.jsx)("div",{className:e.loginPage,children:Object(W.jsxs)(Z.a,{className:e.loginForm,variant:"oulined",children:[Object(W.jsx)(p.a,{className:"tittle-app",variant:"h3",style:{fontWeight:400,color:"#e36510"},children:"E-Tulod"}),Object(W.jsx)(p.a,{className:"tittle-content",variant:"h6",style:{fontWeight:100,color:"#041175"},children:"A local-tricycle ride-hailing application"}),Object(W.jsx)(v.a,{variant:"middle"}),Object(W.jsx)("div",{className:e.formContainer,children:Object(W.jsxs)(Z.a,{className:"login-type",variant:"outlined",children:[Object(W.jsx)(p.a,{className:"login-title",variant:"h4",children:"Admin"}),Object(W.jsx)(p.a,{variant:"h6",children:"Admin Email: "}),Object(W.jsx)(Y.a,{name:"email",variant:"outlined",size:"small",fullWidth:!0,required:!0,placeholder:"example@gmail.com",autoComplete:"off",onChange:function(e){c((function(t){return Object(l.a)(Object(l.a)({},t),{},{AdminEmail:e.target.value})}))}}),Object(W.jsx)(p.a,{variant:"h6",children:"Admin Password:"}),Object(W.jsx)(Y.a,{type:"password",name:"password",variant:"outlined",size:"small",fullWidth:!0,style:{fontWeight:100,borderColor:"yellow"},required:!0,autoComplete:"off",placeholder:"********",onChange:function(e){c((function(t){return Object(l.a)(Object(l.a)({},t),{},{AdminPassword:e.target.value})}))}})]})}),Object(W.jsx)(v.a,{variant:"middle"}),Object(W.jsx)(K.a,{onClick:function(){r(i)},variant:"contained",style:{right:"-20%",borderRadius:15,backgroundColor:"#e36510"},children:Object(W.jsx)(p.a,{className:"butt",style:{fontWeight:100},variant:"body1",children:"Login"})})]})})}var Je=function(){var e=Object(s.a)("(prefers-color-scheme: dark)"),t=Object(a.useContext)(We).auth,n=Object(a.useMemo)((function(){return Object(o.a)({palette:{type:e?"dark":"light",primary:{main:"#1a237e"},secondary:{main:"#f4511e"}},props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense"},MuiToolbar:{variant:"dense"}},typography:{htmlFontSize:16,fontSize:16,fontFamily:["Montserrat","-apple-system","BlinkMacSystemFont","Roboto","Oxygen"].join(",")}})}),[e]),i=Object(a.useMemo)((function(){return[{title:"Dashboard",url:"/",exact:!0,component:function(){return Object(W.jsx)(Q,{})}},{title:"Admin Management",url:"/admin",component:function(){return Object(W.jsx)(me,{})}},{title:"User Management",url:"/users",component:function(){return Object(W.jsx)(ve,{})}},{title:"TD Management",url:"/tricycledrivers",component:function(){return Object(W.jsx)(ke,{})}},{title:"TD Queueing System",url:"/tdqueueingsystem",component:function(){return Object(W.jsx)(Se,{})}},{title:"Fare Rate",url:"/farerate",component:function(){return Object(W.jsx)(Ne,{})}},{title:"Transportation Logs",url:"/transportationlogs",component:function(){return Object(W.jsx)(Fe,{})}},{title:"Configurations",url:"/configurations"},{title:"Logout",url:"/logout",component:function(){return Object(W.jsx)(_e,{})}}]}),[t]);return Object(a.useEffect)((function(){je.a.defaults.baseURL="/api/v1"}),[]),t?Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(j.a,{theme:n,children:[Object(W.jsx)(d.a,{}),Object(W.jsx)(J.a,{children:Object(W.jsx)(V,{children:Object(W.jsx)(U.c,{children:i.map((function(e){return Object(W.jsx)(U.a,Object(l.a)(Object(l.a)({path:e.url},e.exact&&{exact:!0}),{},{children:null!==e&&void 0!==e&&e.component?Object(W.jsx)(e.component,{}):Object(W.jsx)(Re,{})}),e.title)}))})})})]})}):Object(W.jsx)(Ve,{})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(Ue,{children:Object(W.jsx)(Je,{})})}),document.getElementById("root")),Qe()}},[[152,1,2]]]);
//# sourceMappingURL=main.1cdbaaed.chunk.js.map